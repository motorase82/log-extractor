<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Player Info Extractor</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.css">
</head>
<body>
    <h1>Player Info Extractor
        <button onclick="window.location.href='https://log-extractor-wess.onrender.com/'" class="back-button">
            Back to Homepage
        </button>
    </h1>

    <form id="upload-form" enctype="multipart/form-data" method="POST">
        <div id="drop-area">
			<p class="instructions">Upload one or both Commander Screenshots (Key Info & More Info)</p>

			<!-- This is where the message will appear -->
			<p id="upload-status" style="font-weight: bold; color: green;"></p>

			<input
				type="file"
				id="file-selector"
				name="screenshots"
				accept=".jpg,.jpeg,.png"
				multiple
				style="display: none;"
			>
		</div>
        <section class="buttons">
            <button type="button" onclick="document.getElementById('file-selector').click()">Choose Screenshot(s)</button>
            <button type="submit">Extract Player Info</button>
        </section>
    </form>

    <!-- Progress Bar (initially hidden) -->
    <div id="progress-container" style="display:none; margin-top: 20px;">
		<p id="progress-status">Processing, please wait...</p>
		<progress id="progress-bar" value="0" max="100" style="width: 100%; height: 20px;"></progress>
	</div>


    <!-- Preview Section -->
    <div id="preview-section" style="display:none;">
        <h3>ðŸ§¾ Preview Extracted Player Info</h3>
        <table id="preview-table" border="1" cellpadding="5" cellspacing="0"></table>
    </div>

    <!-- Download Buttons -->
    <div id="download-buttons" style="display:none;">
        <h3>Spreadsheet ready! You can now download the file. Click the button below!</h3>
        <button id="download-player-info-excel" type="button" class="shake">
            Download Player Info Spreadsheet
        </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
    <script src="{{ url_for('static', filename='player_info_script.js') }}"></script>

    <footer>
        <p>&copy; 2025 Last Fortress Tool | All Rights Reserved</p>
    </footer>
</body>
</html>
